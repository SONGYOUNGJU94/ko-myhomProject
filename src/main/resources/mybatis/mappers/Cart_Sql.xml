<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 맵핑될 DAO 인터페이스의 Full name 을 줍니다. -->
<mapper namespace="com.myhome.www.store.service.impl.CartDao">



	<insert id="insertItemInCart" parameterType="cart">
	insert into cart(member_no, amount, item_no, price) values(#{memberNo}, #{amount}, #{itemNo}, #{price})
	</insert>
	
	<!-- 장바구니에 동일한 상품 있는지 확인 -->
	<select id="countCart" resultType="int">
	select count(*) from cart where item_no = #{itemNo} and member_no = #{memberNo}
	</select>
	
	<update id="updateItemInCart" parameterType="cart">
	update cart 
	set amount = amount + #{amount}
	where member_no = #{memberNo} and item_no = #{itemNo}
	</update>
</mapper>
